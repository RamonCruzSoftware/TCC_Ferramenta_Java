package rcs.core.agents;



import java.awt.Container;

import rcs.suport.util.FrameTestAgentGestor;
import jade.core.Agent;
import jade.domain.DFService;
import jade.domain.FIPAAgentManagement.DFAgentDescription;
import jade.wrapper.AgentController;
import jade.wrapper.ControllerException;
import jade.wrapper.PlatformController;
import jade.core.behaviours.*;

public class Manager  extends Agent{
	
	
	protected void setup()
	{
		try{
			//create the agent description of ifself
			DFAgentDescription dfd=new DFAgentDescription();
			dfd.setName(getAID());
			DFService.register(this, dfd);
			
			System.out.println("I'm live... My name is Manager");
			System.out.println(this.getName());
						
			//System.out.println("Starting the UIFrame");
			//FrameTestAgentGestor UIFrame=new FrameTestAgentGestor(this);
			
			addBehaviour(new TickerBehaviour(this,1000) {
				
				@Override
				protected void onTick() {
					
					
					System.out.println("Manager says: Oi");
					
				}
			});
			
		}catch (Exception e)
		{
			e.printStackTrace();
		}
	}
	

public void createExpertAgents(double value,String name)
{
	PlatformController container=getContainerController();
	try {
		AgentController  agentController=container.createNewAgent(name, "rcs.core.agents.Expert", null);
		agentController.start();
		
	} 
	catch (Exception e) 
	{
		e.printStackTrace();
	}
	
}
public void dropExpertAgent (String name)
{
	PlatformController container=getContainerController();
	try
	{
		AgentController agentController=container.getAgent(name);
		agentController.kill();
	}catch(Exception e)
	{
		e.printStackTrace();
	}
}


}
